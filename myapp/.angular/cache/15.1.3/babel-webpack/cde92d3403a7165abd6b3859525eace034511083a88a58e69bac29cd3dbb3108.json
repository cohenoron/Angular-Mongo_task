{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nlet NewVacationComponent = class NewVacationComponent {\n  constructor(stateService) {\n    this.stateService = stateService;\n  }\n  submitForm() {\n    const data = {\n      title: this.title,\n      category: this.category,\n      description: this.description,\n      destination: this.destination,\n      img_url: this.img_url,\n      date_start: this.date_start,\n      date_end: this.date_end,\n      price: this.price\n    };\n    if (!data.title || !data.description || !data.destination || !data.category || !data.img_url || !data.date_start || !data.date_end || !data.price) {\n      return alert('All rows must be filled');\n    }\n    const jwt = Cookies.get('token');\n    axios.post('http://localhost:8080/new', {\n      withCredentials: true,\n      headers: {\n        authorization: `Bearer ${jwt}`\n      },\n      data\n    }).then(response => {\n      this.stateService.changeShowNewVacationModal(false);\n      this.stateService.getVacation();\n      alert(response.data);\n    }).catch(function (error) {\n      alert(error);\n      console.log(error);\n    });\n  }\n  closeModal() {\n    this.stateService.changeShowNewVacationModal(false);\n  }\n};\nNewVacationComponent = __decorate([Component({\n  selector: 'app-new-vacation',\n  templateUrl: './new-vacation.component.html',\n  styleUrls: ['./new-vacation.component.scss']\n})], NewVacationComponent);\nexport { NewVacationComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAOC,OAAO,MAAM,WAAW;AAOxB,IAAMC,oBAAoB,GAA1B,MAAMA,oBAAoB;EAU/BC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;EAAiB;EAEjDC,UAAU;IACR,MAAMC,IAAI,GAAQ;MAChBC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,WAAW,EAAE,IAAI,CAACA,WAAW;MAC7BC,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,KAAK,EAAE,IAAI,CAACA;KACb;IAID,IACE,CAACR,IAAI,CAACC,KAAK,IACX,CAACD,IAAI,CAACG,WAAW,IACjB,CAACH,IAAI,CAACI,WAAW,IACjB,CAACJ,IAAI,CAACE,QAAQ,IACd,CAACF,IAAI,CAACK,OAAO,IACb,CAACL,IAAI,CAACM,UAAU,IAChB,CAACN,IAAI,CAACO,QAAQ,IACd,CAACP,IAAI,CAACQ,KAAK,EACX;MACA,OAAOC,KAAK,CAAC,yBAAyB,CAAC;;IAEzC,MAAMC,GAAG,GAAGf,OAAO,CAACgB,GAAG,CAAC,OAAO,CAAC;IAChCjB,KAAK,CACFkB,IAAI,CAAC,2BAA2B,EAAE;MACjCC,eAAe,EAAE,IAAI;MACrBC,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,GAAG;MAAE,CAAE;MAC3CV;KACD,CAAC,CACDgB,IAAI,CAAEC,QAAQ,IAAI;MACjB,IAAI,CAACnB,YAAY,CAACoB,0BAA0B,CAAC,KAAK,CAAC;MACnD,IAAI,CAACpB,YAAY,CAACqB,WAAW,EAAE;MAC/BV,KAAK,CAACQ,QAAQ,CAACjB,IAAI,CAAC;IACtB,CAAC,CAAC,CACDoB,KAAK,CAAC,UAAUC,KAAK;MACpBZ,KAAK,CAACY,KAAK,CAAC;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;EACN;EACAG,UAAU;IACR,IAAI,CAAC1B,YAAY,CAACoB,0BAA0B,CAAC,KAAK,CAAC;EACrD;CACD;AA1DYtB,oBAAoB,eALhCH,SAAS,CAAC;EACTgC,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,+BAA+B;CAC5C,CAAC,GACW/B,oBAAoB,CA0DhC;SA1DYA,oBAAoB","names":["Component","axios","Cookies","NewVacationComponent","constructor","stateService","submitForm","data","title","category","description","destination","img_url","date_start","date_end","price","alert","jwt","get","post","withCredentials","headers","authorization","then","response","changeShowNewVacationModal","getVacation","catch","error","console","log","closeModal","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["D:\\workSpace\\Angular-Mongo_task\\myapp\\src\\app\\new-vacation\\new-vacation.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport axios from 'axios';\nimport { StateService } from '../service/shared.service';\nimport Cookies from 'js-cookie';\n\n@Component({\n  selector: 'app-new-vacation',\n  templateUrl: './new-vacation.component.html',\n  styleUrls: ['./new-vacation.component.scss'],\n})\nexport class NewVacationComponent {\n  title: string | undefined;\n  category: string | undefined;\n  description: string | undefined;\n  destination: string | undefined;\n  img_url: string | undefined;\n  date_start: string | undefined;\n  date_end: string | undefined;\n  price: string | undefined;\n\n  constructor(private stateService: StateService) {}\n\n  submitForm(): void {\n    const data: any = {\n      title: this.title,\n      category: this.category,\n      description: this.description,\n      destination: this.destination,\n      img_url: this.img_url,\n      date_start: this.date_start,\n      date_end: this.date_end,\n      price: this.price,\n    };\n\n    \n\n    if (\n      !data.title ||\n      !data.description ||\n      !data.destination ||\n      !data.category ||\n      !data.img_url ||\n      !data.date_start ||\n      !data.date_end ||\n      !data.price\n    ) {\n      return alert('All rows must be filled');\n    }\n    const jwt = Cookies.get('token');\n    axios\n      .post('http://localhost:8080/new', {\n        withCredentials: true,\n        headers: { authorization: `Bearer ${jwt}` },\n        data,\n      })\n      .then((response) => {\n        this.stateService.changeShowNewVacationModal(false);\n        this.stateService.getVacation();\n        alert(response.data);\n      })\n      .catch(function (error) {\n        alert(error);\n        console.log(error);\n      });\n  }\n  closeModal() {\n    this.stateService.changeShowNewVacationModal(false);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}